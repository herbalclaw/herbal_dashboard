(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7091:function(e,t,s){Promise.resolve().then(s.bind(s,1317))},1317:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(3827),l=s(4090),i=s(5032),n=s(3276),r=s(9733),c=s(9910);function d(e){let{activeTab:t,onTabChange:s}=e,[d,o]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=()=>{o(new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]);let x=[{id:"overview",label:"OVERVIEW",icon:i.Z},{id:"data",label:"DATA",icon:n.Z},{id:"trading",label:"TRADING",icon:r.Z}];return(0,a.jsx)("header",{className:"border-b border-[var(--border)]",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-[var(--border)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"status-dot status-online"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:"HERBAL"}),(0,a.jsx)("span",{className:"text-xs text-[var(--text-muted)]",children:"TERMINAL v2.1"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"mono text-sm text-[var(--text-secondary)]",children:[d," UTC"]}),(0,a.jsx)("button",{className:"btn",children:(0,a.jsx)(c.Z,{size:12})})]})]}),(0,a.jsx)("nav",{className:"flex flex-wrap border-b border-[var(--border)]",children:x.map(e=>{let l=e.icon,i=t===e.id;return(0,a.jsxs)("button",{onClick:()=>s(e.id),className:"\n                  flex items-center gap-2 px-4 py-3 text-xs font-medium border-r border-[var(--border)]\n                  ".concat(i?"bg-[var(--bg-cell)] text-[var(--text-primary)] border-b-2 border-b-[var(--accent)]":"text-[var(--text-muted)] hover:text-[var(--text-secondary)] hover:bg-[var(--bg-cell)]","\n                "),children:[(0,a.jsx)(l,{size:12}),e.label]},e.id)})})]})})}async function o(e){try{var t,s,a,l,i,n,r;let c=await fetch("https://api.github.com/repos/".concat("herbalclaw","/").concat(e,"/commits?per_page=1"),{headers:{Accept:"application/vnd.github.v3+json"},next:{revalidate:30}});if(!c.ok)throw Error("Failed to fetch");let d=await c.json();return{lastCommit:(null===(s=d[0])||void 0===s?void 0:null===(t=s.commit)||void 0===t?void 0:t.message)||"No commits",lastUpdate:(null===(i=d[0])||void 0===i?void 0:null===(l=i.commit)||void 0===l?void 0:null===(a=l.committer)||void 0===a?void 0:a.date)||null,sha:(null===(r=d[0])||void 0===r?void 0:null===(n=r.sha)||void 0===n?void 0:n.substring(0,7))||"unknown"}}catch(e){return{lastCommit:"Error fetching data",lastUpdate:null,sha:"error"}}}function x(){let[e,t]=(0,l.useState)([]);return(0,l.useEffect)(()=>{async function e(){let[e,s]=await Promise.all([o("polymarket-data-collector"),o("polymarket-strategy-tester")]);t([{name:"DATA_COLLECTOR",status:e.lastUpdate?"online":"offline",latency:"45ms"},{name:"PAPER_TRADING",status:s.lastUpdate?"online":"offline",latency:"23ms"},{name:"AUTO_PUSH",status:"online",latency:"12ms"},{name:"MONITOR",status:"online",latency:"5ms"}])}e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]),(0,a.jsx)("section",{className:"animate-fade-in",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"section-label flex items-center justify-between",children:[(0,a.jsx)("span",{children:"SYSTEM STATUS"}),(0,a.jsx)("span",{className:"text-[var(--text-muted)]",children:"REFRESH: 30s"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"cell border-r-0 last:border-r",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-[var(--text-secondary)]",children:e.name}),(0,a.jsx)("span",{className:"status-dot ".concat("online"===e.status?"status-online":"status-offline")})]}),(0,a.jsxs)("div",{className:"mono text-xs text-[var(--text-muted)]",children:["LATENCY: ",e.latency]})]},e.name))})]})})}function m(){let[e,t]=(0,l.useState)({totalUpdates:15247,updatesPerSecond:2.4,activeWindows:3,lastPrice:.6842,priceChange:.0234});(0,l.useEffect)(()=>{o("polymarket-data-collector")},[]);let s=[{label:"UPDATES",value:e.totalUpdates.toLocaleString()},{label:"PER_SEC",value:e.updatesPerSecond.toFixed(1)},{label:"WINDOWS",value:e.activeWindows.toString()},{label:"PRICE",value:"$".concat(e.lastPrice.toFixed(3))},{label:"CHANGE",value:"".concat(e.priceChange>=0?"+":"").concat((100*e.priceChange).toFixed(1),"%"),positive:e.priceChange>=0}];return(0,a.jsx)("section",{className:"animate-fade-in",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"section-label",children:"DATA FEED"}),(0,a.jsx)("div",{className:"data-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5",children:s.map(e=>(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsx)("div",{className:"mono text-xl font-semibold ".concat("positive"in e?e.positive?"text-up":"text-down":"text-primary"),children:e.value}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.label})]},e.label))})]})})}function h(){let[e,t]=(0,l.useState)({totalTrades:524,totalPnl:-1.7,winRate:44.1,openPositions:1});(0,l.useEffect)(()=>{o("polymarket-strategy-tester")},[]);let s=[{label:"P&L",value:"$".concat(e.totalPnl.toFixed(2)),positive:e.totalPnl>=0},{label:"TRADES",value:e.totalTrades.toString()},{label:"WIN_RATE",value:"".concat(e.winRate.toFixed(0),"%")},{label:"OPEN",value:e.openPositions.toString()}];return(0,a.jsx)("section",{className:"animate-fade-in",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"section-label",children:"TRADING PERFORMANCE"}),(0,a.jsx)("div",{className:"data-grid grid-cols-2 md:grid-cols-4",children:s.map(e=>(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsx)("div",{className:"mono text-xl font-semibold ".concat("positive"in e?e.positive?"text-up":"text-down":"text-primary"),children:e.value}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.label})]},e.label))})]})})}var v=s(6587),j=s(1018),u=s(8333),N=s(3356),f=s(2983),p=s(166),b=s(3897),g=s(4715),y=s(834);let E=["ALL","Momentum","VolatilityScorer","HighProbConvergence","EMAArbitrage","MarketMaking"];function S(){let[e,t]=(0,l.useState)("ALL"),[s,i]=(0,l.useState)("24H"),[n,r]=(0,l.useState)([]),[c,d]=(0,l.useState)(0),[o,x]=(0,l.useState)(!0);async function m(){try{let e=await fetch("/trades.json?t=".concat(Date.now())),t=await e.json();r(t.trades),d(t.total)}catch(e){console.error("Error fetching trades:",e)}finally{x(!1)}}(0,l.useEffect)(()=>{m()},[]);let h=(0,l.useMemo)(()=>"ALL"===e?n:n.filter(t=>t.strategy===e),[n,e]),S=(0,l.useMemo)(()=>{let e=h.filter(e=>e.exit>0);if(0===e.length)return null;let t=e.filter(e=>e.pnl>=0).length,s=e.filter(e=>e.pnl<0).length,a=e.reduce((e,t)=>e+t.pnl,0),l=a/e.length,i=t/e.length*100;return{wins:t,losses:s,totalPnl:a,avgPnl:l,winRate:i,total:h.length,closed:e.length}},[h]),T=(0,l.useMemo)(()=>{if(0===h.length)return[];let e=100,t=[];return[...h].reverse().forEach(s=>{e+=s.pnl,t.push({time:s.time,equity:parseFloat(e.toFixed(2))})}),t},[h]),A=(0,l.useMemo)(()=>{if(0===h.length)return[];let e=0,t=[];return[...h].reverse().forEach(s=>{e+=s.pnl,t.push({time:s.time,pnl:parseFloat(e.toFixed(2))})}),t},[h]);return(0,a.jsx)("div",{className:"animate-fade-in",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between py-4 border-b border-[var(--border)] mb-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-semibold",children:"PAPER TRADING"}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)]",children:"Strategy Performance & Trade History"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{className:"btn",children:[(0,a.jsx)(g.Z,{size:12}),"EXPORT"]}),(0,a.jsxs)("button",{className:"btn",onClick:m,children:[(0,a.jsx)(y.Z,{size:12}),"REFRESH"]})]})]}),S&&(0,a.jsxs)("div",{className:"panel mb-4",children:[(0,a.jsx)("div",{className:"cell-header",children:"PERFORMANCE SUMMARY"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-7",children:[(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsx)("div",{className:"mono text-xl font-semibold",children:S.total}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"TOTAL"})]}),(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsx)("div",{className:"mono text-xl font-semibold text-up",children:S.wins}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"WINS"})]}),(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsx)("div",{className:"mono text-xl font-semibold text-down",children:S.losses}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"LOSSES"})]}),(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsx)("div",{className:"mono text-xl font-semibold text-[var(--text-muted)]",children:S.total-S.closed}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"OPEN"})]}),(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsxs)("div",{className:"mono text-xl font-semibold ".concat(S.winRate>=50?"text-up":"text-down"),children:[S.winRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"WIN RATE"})]}),(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsxs)("div",{className:"mono text-xl font-semibold ".concat(S.totalPnl>=0?"text-up":"text-down"),children:[S.totalPnl>=0?"+":"",S.totalPnl.toFixed(2)]}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"TOTAL P&L"})]}),(0,a.jsxs)("div",{className:"data-cell",children:[(0,a.jsxs)("div",{className:"mono text-xl font-semibold ".concat(S.avgPnl>=0?"text-up":"text-down"),children:[S.avgPnl>=0?"+":"",S.avgPnl.toFixed(2)]}),(0,a.jsx)("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"AVG P&L"})]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"section-label",children:"STRATEGY FILTER"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:E.map(s=>(0,a.jsx)("button",{onClick:()=>t(s),className:"pill ".concat(e===s?"active":""),children:s},s))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"section-label",children:"TIME RANGE"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["1H","6H","24H","7D","30D"].map(e=>(0,a.jsx)("button",{onClick:()=>i(e),className:"pill ".concat(s===e?"active":""),children:e},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"panel",children:[(0,a.jsx)("div",{className:"cell-header",children:"EQUITY CURVE"}),(0,a.jsx)("div",{className:"h-48 md:h-64 p-4",children:T.length>0?(0,a.jsx)(v.h,{width:"100%",height:"100%",children:(0,a.jsxs)(j.T,{data:T,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"equityGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#00d084",stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#00d084",stopOpacity:0})]})}),(0,a.jsx)(u.q,{strokeDasharray:"3 3",stroke:"#222"}),(0,a.jsx)(N.K,{dataKey:"time",stroke:"#555",fontSize:10,tickLine:!1,axisLine:!1}),(0,a.jsx)(f.B,{stroke:"#555",fontSize:10,tickLine:!1,axisLine:!1}),(0,a.jsx)(p.u,{contentStyle:{background:"#111",border:"1px solid #333",borderRadius:"0"},itemStyle:{color:"#e0e0e0",fontFamily:"JetBrains Mono",fontSize:"12px"}}),(0,a.jsx)(b.u,{type:"monotone",dataKey:"equity",stroke:"#00d084",strokeWidth:1.5,fillOpacity:1,fill:"url(#equityGradient)"})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-[var(--text-muted)]",children:"NO DATA"})})]}),(0,a.jsxs)("div",{className:"panel",children:[(0,a.jsx)("div",{className:"cell-header",children:"P&L OVER TIME"}),(0,a.jsx)("div",{className:"h-48 md:h-64 p-4",children:A.length>0?(0,a.jsx)(v.h,{width:"100%",height:"100%",children:(0,a.jsxs)(j.T,{data:A,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"pnlGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#ff4757",stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#ff4757",stopOpacity:0})]})}),(0,a.jsx)(u.q,{strokeDasharray:"3 3",stroke:"#222"}),(0,a.jsx)(N.K,{dataKey:"time",stroke:"#555",fontSize:10,tickLine:!1,axisLine:!1}),(0,a.jsx)(f.B,{stroke:"#555",fontSize:10,tickLine:!1,axisLine:!1}),(0,a.jsx)(p.u,{contentStyle:{background:"#111",border:"1px solid #333",borderRadius:"0"},itemStyle:{color:"#e0e0e0",fontFamily:"JetBrains Mono",fontSize:"12px"}}),(0,a.jsx)(b.u,{type:"monotone",dataKey:"pnl",stroke:"#ff4757",strokeWidth:1.5,fillOpacity:1,fill:"url(#pnlGradient)"})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-[var(--text-muted)]",children:"NO DATA"})})]})]}),(0,a.jsxs)("div",{className:"panel",children:[(0,a.jsxs)("div",{className:"cell-header flex items-center justify-between",children:[(0,a.jsx)("span",{children:"RECENT TRADES"}),(0,a.jsx)("span",{className:"text-[var(--text-muted)]",children:o?"LOADING...":"".concat(c," RECORDS (showing ").concat(h.length,")")})]}),(0,a.jsx)("div",{className:"overflow-x-auto bg-[var(--bg-panel)]",children:(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"TIME"}),(0,a.jsx)("th",{children:"STRATEGY"}),(0,a.jsx)("th",{className:"hidden sm:table-cell",children:"MARKET"}),(0,a.jsx)("th",{children:"SIDE"}),(0,a.jsx)("th",{children:"ENTRY"}),(0,a.jsx)("th",{children:"EXIT"}),(0,a.jsx)("th",{children:"P&L"}),(0,a.jsx)("th",{className:"hidden sm:table-cell",children:"STATUS"})]})}),(0,a.jsx)("tbody",{children:o?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:8,className:"text-center py-8 text-[var(--text-muted)]",children:"LOADING TRADES..."})}):0===h.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:8,className:"text-center py-8 text-[var(--text-muted)]",children:"NO TRADES FOUND"})}):h.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"mono",children:e.time}),(0,a.jsx)("td",{children:e.strategy}),(0,a.jsx)("td",{className:"hidden sm:table-cell",children:e.market}),(0,a.jsx)("td",{style:{color:"BUY"===e.side?"#00d084":"#ff4757",fontWeight:600},children:e.side}),(0,a.jsx)("td",{className:"mono",children:e.entry.toFixed(2)}),(0,a.jsx)("td",{className:"mono",children:e.exit>0?e.exit.toFixed(2):"-"}),(0,a.jsx)("td",{style:{color:"OPEN"===e.status?"#888":e.pnl>=0?"#00d084":"#ff4757",fontWeight:600},children:"OPEN"===e.status?"-":"".concat(e.pnl>=0?"+":"").concat(e.pnl.toFixed(2))}),(0,a.jsx)("td",{className:"hidden sm:table-cell",style:{color:"WIN"===e.status?"#00d084":"OPEN"===e.status?"#888":"#ff4757",fontWeight:600},children:e.status})]},e.id))})]})})]})]})})}function T(){let[e,t]=(0,l.useState)("overview");return(0,a.jsxs)("div",{className:"min-h-screen bg-[var(--bg-primary)]",children:[(0,a.jsx)(d,{activeTab:e,onTabChange:t}),(0,a.jsxs)("main",{className:"py-4 space-y-4",children:["overview"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{}),(0,a.jsx)(m,{}),(0,a.jsx)(h,{})]}),"data"===e&&(0,a.jsx)(m,{}),"trading"===e&&(0,a.jsx)(S,{})]})]})}}},function(e){e.O(0,[942,971,69,744],function(){return e(e.s=7091)}),_N_E=e.O()}]);